<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Reepot</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="static/css/wireframe.css" rel="stylesheet">
</head>
<body>
<div class="container py-3">

  <header class="d-flex align-items-center justify-content-between wf-head mb-3">
    <div class="d-flex align-items-center gap-3">
      <img src="static/images/Reepotlogo.png" alt="logo" style="height:48px">
      <div><h4 class="mb-0">Community Incident Reporting System</h4></div>
    </div>
    <nav class="d-none d-md-flex">
      <a class="btn btn-sm me-2 btn-outline-secondary" href="index.html">Home</a>
      <a class="btn btn-sm me-2 btn-primary" href="createreport.html">Create Report</a>
      <a class="btn btn-sm me-2 btn-outline-secondary" href="viewreports.html">View Reports</a>
    </nav>
  </header>


  <div class="container">
    
    

<h4>Submit a New Report</h4>
<form id="reportForm">
  <div class="mb-3"><input type="text" id="name" class="form-control" placeholder="Your Name" required></div>
  <div class="mb-3"><input type="email" id="email" class="form-control" placeholder="Your Email" required></div>
  <div class="mb-3">
    <select id="location" class="form-select" required>
      <option value="">Select Location</option>
      <option>Block A</option><option>Block B</option><option>Block C</option><option>Block D</option><option>Block E</option><option>Block F</option><option>Block G</option><option>Block H</option><option>Block J</option><option>Block K</option><option>Block L</option><option>Block M</option><option>Block N</option><option>Block O</option><option>Block P</option>
  </div>
  <div class="mb-3"><input type="text" id="title" class="form-control" placeholder="Incident Title" required></div>
  <div class="mb-3"><textarea id="description" class="form-control" rows="4" placeholder="Detailed Description..." required></textarea></div>
  <div class="mb-3"><input type="file" id="image" class="form-control"></div>
  <button type="submit" class="btn btn-primary">Submit Report</button>
</form>
<script>
  document.getElementById('reportForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const location = document.getElementById('location').value;
    const title = document.getElementById('title').value;
    const description = document.getElementById('description').value;
    const imageFile = document.getElementById('image').files[0];
    const dateSubmitted = new Date().toLocaleString();

    const reader = new FileReader();
    reader.onload = function () {
      const reports = JSON.parse(localStorage.getItem('reports') || '[]');
      reports.push({ name, email, location, title, description, image: reader.result });
      localStorage.setItem('reports', JSON.stringify(reports));
      alert('Report submitted!');
      window.location.href = 'viewreports.html';
    };
    if (imageFile) reader.readAsDataURL(imageFile);
    else {
      const reports = JSON.parse(localStorage.getItem('reports') || '[]');
      reports.push({ name, email, location, title, description, image: null, date: dateSubmitted });
      localStorage.setItem('reports', JSON.stringify(reports));
      alert('Report submitted!');
      window.location.href = 'viewreports.html';
    }
  });
</script>

  </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body></html>