<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Reepot</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="static/css/wireframe.css" rel="stylesheet">
</head>
<body>
<div class="container py-3">

  <header class="d-flex align-items-center justify-content-between wf-head mb-3">
    <div class="d-flex align-items-center gap-3">
      <img src="static/images/Reepotlogo.png" alt="logo" style="height:48px">
      <div><h4 class="mb-0">Community Incident Reporting System</h4></div>
    </div>
    <nav class="d-none d-md-flex">
      <a class="btn btn-sm me-2 btn-outline-secondary" href="index.html">Home</a>
      <a class="btn btn-sm me-2 btn-primary" href="createreport.html">Create Report</a>
      <a class="btn btn-sm me-2 btn-outline-secondary" href="viewreports.html">View Reports</a>
    </nav>
  </header>


  <div class="container">
    
    

<h4>Edit Report</h4>
<form id="editForm">
  <div class="mb-3"><input type="text" id="name" class="form-control" required></div>
  <div class="mb-3"><input type="email" id="email" class="form-control" required></div>
  <div class="mb-3">
    <select id="location" class="form-select" required>
      <option value="">Select Location</option>
      <option>Block A</option><option>Block B</option><option>Block C</option><option>Block D</option><option>Block E</option><option>Block F</option><option>Block G</option><option>Block H</option><option>Block J</option><option>Block K</option><option>Block L</option><option>Block M</option><option>Block N</option><option>Block O</option><option>Block P</option><option>Block Q</option><option>Block R</option><option>Block S</option><option>Block T</option><option>Block U</option><option>Block V</option><option>Block W</option><option>Block X</option><option>Block Y</option><option>Block Z</option>
    </select>
  </div>
  <div class="mb-3"><input type="text" id="title" class="form-control" required></div>
  <div class="mb-3"><textarea id="description" class="form-control" rows="4" required></textarea></div>
  <button type="submit" class="btn btn-success">Update Report</button>
</form>
<script>
  const index = localStorage.getItem('editIndex');
  const data = JSON.parse(localStorage.getItem('reports') || '[]');
  const r = data[index];
  document.getElementById('name').value = r.name;
  document.getElementById('email').value = r.email;
  document.getElementById('location').value = r.location;
  document.getElementById('title').value = r.title;
  document.getElementById('description').value = r.description;

  document.getElementById('editForm').addEventListener('submit', function(e) {
    e.preventDefault();
    r.name = document.getElementById('name').value;
    r.email = document.getElementById('email').value;
    r.location = document.getElementById('location').value;
    r.title = document.getElementById('title').value;
    r.description = document.getElementById('description').value;
    data[index] = r;
    localStorage.setItem('reports', JSON.stringify(data));
    alert('Updated!');
    window.location.href = 'viewreports.html';
  });
</script>

  </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body></html>